<h2>Expenses</h2>

<input type="date" [(ngModel)]="selectedDate" (ngModelChange)="onChangeDate($event)" [disabled]="showAll"/>
<input type="checkbox" [(ngModel)]="showAll" (change)="onShowAllChanged()" /><label>Show all</label>
<br/><br/>


<table>
    <tr>
        <td>Date:</td>
        <td><input type="date" #date [value]="selectedDate"/></td>
    </tr>
    <tr>
        <td>Type Id:</td>
        <td>
            <select [(ngModel)]="selectedType" #type>
                <option *ngFor="let type of types" [ngValue]="type">
                    {{type.description}}
                </option>
            </select>
        </td>
    </tr>
    <tr>
        <td>Value:</td>
        <td><input type="number" #val /></td>
    </tr>
    <tr>
        <td>Notes:</td>
        <td><input #notes /></td>
    </tr>
</table>
<button (click)="addExpense(date.value,val.value,notes.value);">Add</button>

<br/><br/><hr/><br/>

<table border="1">
    <tr *ngFor="let exp of expenses">
            <td>{{exp.date | date:'dd/MM/yyyy'}}</td>
            <td>{{exp.type.description}}</td>
            <td style="text-align: right">{{exp.value | number:'1.2-2'}}</td>
            <td>{{exp.notes}}</td>
            <td><button (click)="updateExpense(exp); $event.stopPropagation()">E</button></td>
            <td><button (click)="deleteExpense(exp); $event.stopPropagation()">X</button></td>
    </tr>
</table>